<!-- DOCUMENTS -->
{% macro document(abspath, file) -%}
{% set filepath = [abspath, file]|join('/') %}
{% set fileurl = url_for('send_file', abspath=filepath) %}
<div class="card-content">
    <span class="card-title">{{ file.name }}</span>
    <ul>
        <li>Size: {{ file.size|filesizeformat }}</li>
        <li>Created: {{ file.ctime }}</li> <!-- TODO: Display in time format -->
    </ul>
</div>

<div class="card-action">
    <a href="{{ fileurl }}" download="{{ file.name }}"
        class="waves-effect waves-light btn"><i class="material-icons right">get_app</i>Download</a>

    <button onclick="deleteFile('{{ filepath }}')" class="waves-effect red btn"><i class="material-icons right">delete</i>Delete</a>
</div>
{%- endmacro %}

<!-- AUDIOS -->
{% macro audio(abspath, file) -%}
{% set filepath = [abspath, file]|join('/') %}
{% set fileurl = url_for('send_file', abspath=filepath) %}
<div class="card-content">
    <span class="card-title">{{ file.name }}</span>
    <br>
    <audio controls>
        <source src="{{ fileurl }}" type="{{ file.mime_type }}">
    </audio>
    <br><br>
    <p>Duration: {{ file.duration }}<br> <!-- TODO: Display duration in time format -->
        Title: {{ file.title }}<br> <!-- TODO: Add unspecified to tracks without title -->
        Size: {{ file.size|filesizeformat }}
    </p>
    <div class="card-action">
        <a href="{{ fileurl }}" download="{{ file.name }}" class="waves-effect waves-light btn"><i class="material-icons right">get_app</i>Download</a>
        <button onclick="deleteFile('{{ filepath }}')" class="waves-effect red btn"><i class="material-icons right">delete</i>Delete</a>
    </div>
</div>
{%- endmacro %}

<!-- PICTURES -->
{% macro picture(abspath, file) -%}
{% set filepath = [abspath, file]|join('/') %}
{% set fileurl = url_for('send_file', abspath=filepath) %}
<div class="card-image">
    <img class="responsive-img materialboxed" src="{{ fileurl }}">
</div>
<div class="card-content">
    <span class="card-title">{{ file.name }}</span>
    <ul>
        <li>Size: {{ file.size|filesizeformat }}</li>
        <li>Width: {{ file.width }}</li>
        <li>Height: {{ file.height }} </li>
        <li>Created: {{ file.ctime }}</li> <!-- TODO: Display in time format -->
    </ul>
    <div class="card-action">
        <a href="{{ fileurl }}" download="{{ file.name }}" class="waves-effect waves-light btn"><i
                class="material-icons right">get_app</i>Download</a>

        <button onclick="deleteFile('{{ filepath }}')" class="waves-effect red btn"><i class="material-icons right">delete</i>Delete</a>
    </div>
</div>
{%- endmacro %}

<!-- VIDEOS -->
{% macro video(abspath, file) -%}
{% set filepath = [abspath, file]|join('/') %}
{% set fileurl = url_for('send_file', abspath=filepath) %}
<video class="video_player" max-width="400" controls>
    <source src="{{ fileurl }}">
</video>
<div class="card-content">
    <span class="card-title">{{ file.name }}</span>
    <ul>
        <li>Duration: {{ file.duration }}</li> <!-- TODO: Display duration in time format -->
        <li>Resolution: {{ file.resolution }}</li> <!-- TODO: Add unspecified to videos without resolution -->
        <li>Size: {{ file.size|filesizeformat }}</li>
        <li>Created: {{ file.ctime }}</li> <!-- TODO: Display in time format -->
    </ul>
    <div class="card-action">
        <a href="{{ fileurl }}" download="{{ file.name }}" class="waves-effect waves-light btn"><i
                class="material-icons right">get_app</i>Download</a>

        <button onclick="deleteFile('{{ filepath }}')" class="waves-effect red btn"><i class="material-icons right">delete</i>Delete</a>
    </div>
</div>
{%- endmacro %}